{% load static %}
{% load custom_tags %}

<!DOCTYPE html>
<html lang="ru" class="{{ html_classes|to_string }}{% if is_mobile %} mobile{% else %} desktop{% endif %}">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no,width=device-width">
	{% block meta %}
	<meta name="description" content="{% if meta.description %}{{meta.description}}{% else %}{{meta_default.description}}{% endif %}">
	<meta name="keywords" content="{% if meta.keywords %}{{meta.keywords}}{% else %}{{meta_default.keywords}}{% endif %}">
	{% endblock meta %}
	<link rel="preload" href="{% static 'fonts/corbel.woff2' %}" as="font" type="font/woff2" crossorigin>
	<link rel="preload" href="{% static 'fonts/corbelb.woff2' %}" as="font" type="font/woff2" crossorigin>
	<link rel="preload" href="{% static 'fonts/calibri.woff2' %}" as="font" type="font/woff2" crossorigin>
	<link rel="preload" href="{% static 'fonts/calibrib.woff2' %}" as="font" type="font/woff2" crossorigin>
	<link rel="apple-touch-icon" sizes="180x180" href="{% static 'favicons/apple-touch-icon.png' %}">
	<link rel="icon" type="image/png" sizes="32x32" href="{% static 'favicons/favicon-32x32.png' %}">
	<link rel="icon" type="image/png" sizes="16x16" href="{% static 'favicons/favicon-16x16.png' %}">
	<link rel="manifest" href="{% static 'favicons/site.webmanifest' %}">
	<link rel="mask-icon" href="{% static 'favicons/safari-pinned-tab.svg' %}" color="#160d32">
	<link rel="shortcut icon" href="{% static 'favicons/favicon.ico' %}">
	<meta name="apple-mobile-web-app-title" content="Сфера дизайна">
	<meta name="application-name" content="Сфера дизайна">
	<meta name="msapplication-TileColor" content="#160d32">
	<meta name="msapplication-TileImage" content="{% static 'favicons/mstile-144x144.png' %}">
	<meta name="msapplication-config" content="{% static 'favicons/browserconfig.xml' %}">
	<meta name="theme-color" content="#ffffff">


	<!-- CSS only -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha2/css/bootstrap.min.css" integrity="sha384-DhY6onE6f3zzKbjUPRc2hOzGAdEf4/Dz+WJwBvEYL/lkkIsI3ihufq9hk9K4lVoK" crossorigin="anonymous">
	<link href="{% md5url 'css/base.min.css' %}" rel="stylesheet" type="text/css" media="screen"/>

	{% block styles %}
	{% endblock %}

	<title>{% block title %}{{ main_title }}{% endblock %}</title>
</head>

<body>

	<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" style="display:none">
	{% block svg_icons %}
		<symbol id="arrow-icon" viewBox="0 0 24 24" fill="transparent" stroke-linejoin="round" stroke-linecap="round">
			<path d="M7 2 L17 12 L7 22"/>
		</symbol>
		<symbol id="close-icon" viewBox="0 0 24 24" stroke-linejoin="round" stroke-linecap="round">
			<line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>
		</symbol>
		<symbol id="close2-icon" height="30" viewBox="0 0 24 24">
			<path d="M1 1 L23 23 M23 1 L1 23"/>
		</symbol>
		<symbol id="search-icon" width="100%" height="100%" viewBox="0 0 30 30" stroke-linejoin="round" stroke-linecap="round" stroke-width="2" fill="transparent">
			<circle cx="13" cy="13" r="10"/><path d="M20 20 L27 27"/>
		</symbol>
		<symbol id="burger-icon" height="30" viewBox="0 0 24 24">
			<path d="M1 4 h22 M1 12 h22 M1 20 h22"/>
		</symbol>
		<symbol id="login-icon" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="1.5">
			<path d="M5.52 19c.64-2.2 1.84-3 3.22-3h6.52c1.38 0 2.58.8 3.22 3"/><circle cx="12" cy="10" r="3"/><circle cx="12" cy="12" r="10"/>
		</symbol>
		<symbol id="edit-icon" viewBox="0 0 384 384">
			<polygon points="0,303.947 0,383.947 80,383.947 316.053,147.893 236.053,67.893"/>
			<path d="M377.707,56.053L327.893,6.24c-8.32-8.32-21.867-8.32-30.187,0l-39.04,39.04l80,80l39.04-39.04
				C386.027,77.92,386.027,64.373,377.707,56.053z"/>
		</symbol>
		<symbol id="star-icon" width="20" height="20" viewBox="2 2 22 22">
			<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
		</symbol>
		<symbol id="main-title" width="100%" height="100%" viewBox="0 -110 1000 140">
			<text>{{ main_title }}</text>
		</symbol>
		<symbol id="logo-instagram" x="0" y="0" width="100%" height="100%" viewBox="0 0 24 24">
			<path d="m4.75 24h14.5c2.619 0 4.75-2.131 4.75-4.75v-14.5c0-2.619-2.131-4.75-4.75-4.75h-14.5c-2.619 0-4.75 2.131-4.75 4.75v14.5c0 2.619 2.131 4.75 4.75 4.75zm-3.25-19.25c0-1.792 1.458-3.25 3.25-3.25h14.5c1.792 0 3.25 1.458 3.25 3.25v14.5c0 1.792-1.458 3.25-3.25 3.25h-14.5c-1.792 0-3.25-1.458-3.25-3.25z"/>
			<path d="m12 18.13c3.38 0 6.13-2.75 6.13-6.13s-2.75-6.13-6.13-6.13-6.13 2.75-6.13 6.13 2.75 6.13 6.13 6.13zm0-10.76c2.553 0 4.63 2.077 4.63 4.63s-2.077 4.63-4.63 4.63-4.63-2.077-4.63-4.63 2.077-4.63 4.63-4.63z"/>
			<path d="m18.358 7.362c.986 0 1.729-.74 1.729-1.721 0-1.023-.782-1.721-1.728-1.721-.986 0-1.729.74-1.729 1.721 0 1.021.778 1.721 1.728 1.721zm.177-1.886c.316.279-.405.618-.405.166 0-.27.367-.2.405-.166z"/>
		</symbol>
		<symbol id="logo-vk" x="0" y="0" width="100%" height="100%" viewBox="0 0 24 24">
			<path d="m19.915 13.028c-.388-.49-.277-.708 0-1.146.005-.005 3.208-4.431 3.538-5.932l.002-.001c.164-.547 0-.949-.793-.949h-2.624c-.668 0-.976.345-1.141.731 0 0-1.336 3.198-3.226 5.271-.61.599-.892.791-1.225.791-.164 0-.419-.192-.419-.739v-5.105c0-.656-.187-.949-.74-.949h-4.126c-.419 0-.668.306-.668.591 0 .622.945.765 1.043 2.515v3.797c0 .832-.151.985-.486.985-.892 0-3.057-3.211-4.34-6.886-.259-.713-.512-1.001-1.185-1.001h-2.625c-.749 0-.9.345-.9.731 0 .682.892 4.073 4.148 8.553 2.17 3.058 5.226 4.715 8.006 4.715 1.671 0 1.875-.368 1.875-1.001 0-2.922-.151-3.198.686-3.198.388 0 1.056.192 2.616 1.667 1.783 1.749 2.076 2.532 3.074 2.532h2.624c.748 0 1.127-.368.909-1.094-.499-1.527-3.871-4.668-4.023-4.878z"/>
		</symbol>
		<symbol id="logo-fb" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 512 512">
			<path d="M384,176h-96v-64c0-17.664,14.336-32,32-32h32V0h-64l0,0c-53.024,0-96,42.976-96,96v80h-64v80h64v256h96V256h64L384,176z"/>
		</symbol>
	{% endblock svg_icons %}
	</svg>

	{% block navigation %}
		{% include "navbar.html" %}
	{% endblock navigation %}

	<div id="site-header">
		{# <div class="year-text">{{exhibitions_list.first.slug}}</div> #}
		<a id="branding" class="loading" href="/">
			{% block site_title %}
			<div class="brand-logo">
				<img src="{% get_media_prefix %}sd-logo-2.png" loading="lazy" alt="{{main_title}}">
			</div>
			{% endblock site_title %}
		</a>
	</div>

	<div class="container container-md loading">

		{% block header %}{% endblock header %}
		{% block content %}{% endblock content %}

	</div>

	{% block extra_container %}
	<!-- Контейнер для диалоговых окон -->
	<div id="alertContainer" class="hidden centered"></div>
	{% endblock extra_container %}

	<script src="{% md5url 'js/base.min.js' %}"></script>
	<!-- JavaScript Bundle with Popper.js -->
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha2/js/bootstrap.bundle.min.js" integrity="sha384-BOsAfwzjNJHrJ8cZidOg56tcQWfp6y72vEJ8xQ9w6Quywb24iOsW913URv1IS4GD" crossorigin="anonymous"></script>

	{% block script %}{% endblock %}


	<script>
		(async () => {
			if ('loading' in HTMLImageElement.prototype) {
				const images = document.querySelectorAll("img.lazyload");
				images.forEach(img => {
					if (img.dataset.src) {
						img.src = img.dataset.src;
						img.srcset = img.dataset.srcset;
					}
					img.classList.add('lazyloaded');
					img.classList.remove('lazyload');
				});

			} else {
				const lazySizesLib = await import("{% static 'js/lazysizes.min.js' %}");
				lazySizes.init();
			}
		})();
	</script>

</body>
</html>