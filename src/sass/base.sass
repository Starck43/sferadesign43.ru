@import "../../node_modules/bootstrap/scss/functions"
@import "../../node_modules/bootstrap/scss/variables"
@import "../../node_modules/bootstrap/scss/mixins"

@import vars
@import mixins
@import fonts
@import navigation
@import layouts
@import exhibition
@import person

html
	font-size: 16px
	+media-breakpoint-up(sm)
		font-size: 17px
	+media-breakpoint-up(lg)
		font-size: 18px

body
	--bs-font-sans-serif: "#{$font-family-text}", Tahoma

h1, h2, h3, h4, .year-text, #site-title
	font-family: $font-family-header
	//font-weight: bold

h1, h2
	//-webkit-text-stroke: 1px $header-color

h1
	color: $header-color
	+media-breakpoint-up(lg)
		font-size: 3em

	span
		display: block
		font-size: .5em
		font-style: italic
		color: $text-color

h3
	min-height: 0vw
	font-size: calc(1.1em + .1vw)

a
	color: $link-color
	text-decoration: none
	outline: none
	&.active
		font-weight: bold
	&:hover
		color: lighten($link-color, 20%)

ul li
	margin-bottom: 0.5em


ol
	padding-left: 0
	list-style-type: none
	//+media-breakpoint-down(xs)

li, img
	outline: 0

p img
	max-width: 100%
	max-height: auto
	margin: 1em

img
	width: 100%
	height: auto
	text-indent: -9999px
	transition: all 300ms ease-out

.logo img
	width: auto
	height: 100%

// Avoid empty images to appear as broken
img:not([src]):not([srcset])
	visibility: hidden

img[data-sizes="auto"]
	display: block

.lazyload,
.lazyloading
	opacity: 0

.lazyloaded
	opacity: 1

svg.icon
	width: 30px
	height: 30px

.loading, .loaded
	transition: opacity 300ms ease-out

.loading
	opacity: 0

.loaded
	opacity: 1 !important

.hidden
	display: none

.visible
	visibility: visible !important
	z-index: 10000 !important
	opacity: 1 !important

.modal-open
	position: static
	overflow: hidden
	-webkit-overflow-scrolling: auto

.no-select
	user-select: none
	-webkit-tap-highlight-color: transparentize(black, 1)
	-webkit-touch-callout: none

.back-link
	position: absolute
	top: 6em
	right: 2em
	display: flex
	align-items: center
	svg
		stroke: black
		stroke-width: 3
		transform: rotate(180deg)
		width: 22px
		height: 22px

.social-link
	display: inline-block
	svg
		//border-radius: 5px
		//background-color: $main-color
		&.vk
			//background-color: #4D76A1
		&.fb
			//background-color: #1976D2
		&.instagram
			//background-color: #ff543e

#site-header
	position: relative
	display: flex
	align-items: center
	margin: 7em 0.5em 0em
	//+responsive-ratio(1,1,0, true, absolute)
	img
		display: table
		margin: auto 0
		width: $content-margin - 60px
		background-color: transparentize($main-color,1)
		&.lazyloaded
			background-color: transparentize($main-color,0)
		~ *
			flex: auto
			margin-left: 20px

	.year-text
		margin-left: 18%
		font-size: 2.7rem
		line-height: 0.6
		color: $main-color !important

	+media-breakpoint-down(xl)
		img
			width: $content-margin - 110px
		.year-text
			font-size: 2.1em

	+media-breakpoint-down(lg)
		margin-top: 5em

	+media-breakpoint-down(md)
		margin-top: 4em
		img
			width: $content-margin - 160px
		.year-text
			font-size: 1.4em

	+media-breakpoint-down(sm)
		margin-bottom: 1em
		img
			width: $content-margin - 180px

	#site-title
		transition: opacity 500ms 300ms ease-out
		opacity: 0

	&.loaded
		#site-title
			opacity: 1

	text
		fill: $main-color
		stroke: $main-color
		stroke-width: 6px
		font-size: 118px
		text-transform: uppercase
		font-weight: bold
		letter-spacing: 1px

.container
	max-width: none
	margin-top: 0
	margin-bottom: 1rem

	--bs-gutter-x: #{$content-margin * 2}
	+media-breakpoint-down(xl)
		--bs-gutter-x: #{$content-margin * 2 - 150px}
	+media-breakpoint-down(md)
		--bs-gutter-x: #{$content-margin * 2 - 250px}
		//+make-container()
	+media-breakpoint-down(sm)
		--bs-gutter-x: 1.5em


.sidebar
	+media-breakpoint-down(xs)
		li:first-child
			width: 100%
			text-align: center

.nav-pills
	+media-breakpoint-up(sm)
		li.nav-item
			display: table
			width: 80px
			text-align: center

.nav-search input
	background-color: $menu-bg

.organizers-list,
.partners-list
	display: flex
	flex-wrap: wrap
	justify-content: center
	header
		flex: 100%
		margin-top: 6vh
		margin-bottom: 3vh

	article
		max-width: 300px
		margin: 1em
		.person-image
			display: flex
			justify-content: center
			align-items: center
			width: 100px
			height: 100px
			margin: auto
		>*
			text-align: center

.organizers-list
	article
		flex: 1 1

.partners-list
	article
		+media-breakpoint-up(xl)
			flex: 1

.projects-list
	//grid-template-columns: repeat(auto-fill, minmax(296px, 1fr) )
	.grid-cell
		&:before
			content: none
		>div
			+responsive-ratio(1,1,0,false)
			.img-title:hover
				color: #fff


.exhibitions-list
	.grid-cell
		&:hover
			color: $main-color
		.exh-title
			position: absolute

.categories-list
	.grid-cell
		img
			padding: 10% 25% 40%
			background-color: #fff
			&~.img-title
				color: $main-color

		.img-title
			padding: 65% 5% 5%
			&:hover
				backdrop-filter: unset !important
				padding-bottom: calc(5% + 2px)
		&:hover
			filter: invert(100%)

.home
	header
		text-align: center
	h1
		line-height: 1

	h1, h2
		//font-size: 1.2em
		font-weight: bold
		text-transform: uppercase

	.person-title
		margin-top: 0.5em


.participant
	h1
		margin-bottom: 0.5em
	h1 ~.excerpt
		margin-bottom: 3rem


.participant, .exhibition, .nominations
	h2
		margin-bottom: 0
		//font-size: 1.5em
	h3
		margin: 0
	//font-size: 1.1em


.excerpt
	font-style: italic

.description
	position: relative
	transition: 500ms all ease
	a.read-more-link
		position: absolute
		display: block
		width: 100%
		//height: 40px
		bottom: 0
		text-align: center
		cursor: pointer
		&:before
			content: 'Свернуть'

	&.brief
		height: 300px
		overflow: hidden
		a.read-more-link
			padding-top: 80px
			background: linear-gradient(to top, #FFF 30%, rgba(255,255,255,0.6) 80%, rgba(255,255,255,0.1) 100%)
			&:before
				content: 'Читать далее'

.contacts
	.form-container
		max-width: 600px

		.form-group
			margin-bottom: 1.5vw
			+media-breakpoint-down(sm)
				margin-bottom: 1em
