@use "../main/mixins"
@use "vars" as *

.navbar
	padding: 0
	+mixins.media-max(lg)
		max-height: 100vh

	.container-fluid
		justify-content: center

	.navbar-toggler
		stroke: var(--bs-body-color)

	.navbar-items
		.nav-link
			font-weight: 300
			padding: 0.5em 0
			margin: 1vh 0
			color: #fff !important
			opacity: 0.8

			&:focus,
			&:hover
				background-color: transparent !important
				opacity: 1

				&::before
					background-color: #fff !important

	&.bg-transparent
		.navbar-toggler
			padding: 1.25rem
			background-color: transparent

			svg.icon
				stroke: var(--menu-bg)

	&.navbar-expand-lg .container-fluid
		margin: .6em 0
		+mixins.media-max(lg)
			margin: 10px 0
			z-index: 1

	&.burger-menu
		overflow-y: unset

		.social-block
			position: absolute
			display: flex
			flex-direction: column
			justify-content: flex-end
			width: 40px
			right: 0.75em
			bottom: 1.5rem
			transform: translateY(-100%)
			opacity: 0

	.navbar-toggler
		position: fixed
		display: block
		width: max-content
		top: 0
		right: 0
		padding: var(--gap)
		text-align: right
		border-radius: 0
		box-shadow: none
		z-index: 1000
		stroke-width: 1.5px
		border: none transparent
		cursor: pointer
		transition: background-color 0.15s ease-in-out

		&:hover
			background-color: rgba(255, 255, 255, 0.1)

	.navbar-menu
		position: fixed
		top: 0
		right: 0
		bottom: 0
		width: 80%
		max-width: 400px
		background-color: var(--menu-bg)
		flex-direction: column
		align-items: stretch
		overflow-y: auto
		transform: translateX(100%)
		transition: transform 0.3s ease-in-out, visibility 0s linear 0.3s
		z-index: 1050
		visibility: hidden

		.btn-close
			top: $container-margin-sm
			right: $container-margin-sm

		&.show
			transform: translateX(0)
			visibility: visible
			transition: transform 0.3s ease-in-out

			.social-block
				transition: all 0.6s 0.2s ease-out
				transform: translateY(0%)
				opacity: 1


	ul.navbar-items
		margin: 0 auto
		font-size: 1.2rem
		height: 100%
		padding: 4vh 1.5rem
		flex: 1
		overflow-y: auto
		flex-direction: column

		li.nav-item
			padding: 0.5rem 0

			&:first-child
				margin-top: auto

			&:last-child
				margin-bottom: auto

			.nav-link
				padding: 1vh 0

	li.nav-item
		margin: 0

		.nav-link
			position: relative
			white-space: nowrap
			text-align: center
			color: #000

			&::before
				content: ''
				position: absolute
				left: 0
				right: 0
				bottom: 0
				height: 0
				background-color: #000
				//border-bottom: 3px #fff solid
				+mixins.media-max(lg)
					left: 0
					right: 0

			&:hover
				opacity: 1

				&::before
					height: 1px


	.btn-close
		position: absolute
		top: $container-margin-sm
		right: $container-margin-sm
		color: #fff


.nav-link.dropdown-toggle.hidden ~ .dropdown-menu
	display: none

// Overlay for offcanvas
.offcanvas-overlay
	position: fixed
	top: 0
	left: 0
	width: 100%
	height: 100%
	background-color: $overlay-color
	z-index: 1040
	opacity: 0
	visibility: hidden
	pointer-events: none
	transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out

	&.show
		opacity: 1
		visibility: visible
		pointer-events: auto

@media (max-width: 575.98px) and (orientation: landscape)

	.navbar-expand-lg
		background-color: var(--menu-bg)
		transition: background-color 300ms 100ms ease-in-out

		.navbar-toggler
			stroke: var(--main-color)


.navbar-dark
	background-color: var(--menu-bg)


.nav-link
	color: var(--nav-link-color)
	border: var(--border-thickness) solid transparent
	text-transform: uppercase
	user-select: none

	&:focus
		border: none


.social-block a.nav-social-link
	display: inline-block
	margin-right: 1vw
	margin-bottom: 1vh

	svg.icon
		width: 1.5rem
		height: 1.5rem
		fill: #fff
		opacity: 0.7
		transition: fill 150ms ease-in-out

	&:hover
		svg
			fill: #fff !important
			opacity: 1

	+mixins.media-max(lg)
		display: block
		margin: 1em 0 2vh
		text-align: center


.navbar-search, .nav-search-link, #searchContainer
	display: none


